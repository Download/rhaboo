!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./core"),d=d||{pop:Array.prototype.pop,push:Array.prototype.push,shift:Array.prototype.shift,unshift:Array.prototype.unshift,splice:Array.prototype.splice,reverse:Array.prototype.reverse,sort:Array.prototype.sort,fill:Array.prototype.fill};Array.prototype.sort=function(){var a=d.sort.apply(this,arguments);return this._rhaboo&&c.save(this),a},Array.prototype.reverse=function(){var a=d.reverse.apply(this,arguments);return this._rhaboo&&c.save(this),a},Array.prototype.pop=function(){var a=d.pop.apply(this,arguments);return this._rhaboo&&(c.release(a),c.save(this)),a},Array.prototype.shift=function(){var a=d.shift.apply(this,arguments);return this._rhaboo&&(c.release(a),c.save(this)),a},Array.prototype.push=function(){if(this._rhaboo)for(var a=0;a<arguments.length;a++)"object"===c.typeOf(arguments[a])&&c.addRef(arguments[a],this._rhaboo.storage);var b=d.push.apply(this,arguments);return this._rhaboo&&c.save(this),b},Array.prototype.unshift=function(){if(this._rhaboo)for(var a=0;a<arguments.length;a++)"object"===c.typeOf(arguments[a])&&c.addRef(arguments[a],this._rhaboo.storage);var b=d.unshift.apply(this,arguments);return this._rhaboo&&c.save(this),b},Array.prototype.splice=function(){var a;if(this._rhaboo)for(a=2;a<arguments.length;a++)"object"===c.typeOf(arguments[a])&&c.addRef(arguments[a],this._rhaboo.storage);var b=d.splice.apply(this,arguments);if(this._rhaboo){for(a=0;a<b.length;a++)"object"===c.typeOf(b[a])&&c.release(b[a]);c.save(this)}return b},Array.prototype.fill=function(){var a=void 0===arguments[1]?0:arguments[1]<0?Math.max(this.length+arguments[1]):Math.min(this.length,arguments[1]),b=void 0===arguments[2]?this.length:arguments[2]<0?Math.max(this.length+arguments[2]):Math.min(this.length,arguments[2]);for("object"===c.typeOf(arguments[0])&&b>a&&(c.addRef(arguments[0],this._rhaboo.storage),arguments[0]._rhaboo.refs+=b-a-1);b>a;a++)this._rhaboo&&"object"===c.typeOf(this[a])&&c.release(this[a]),this[k]=arguments[0];return this._rhaboo&&c.save(this),this},b.exports={persistent:c.persistent,perishable:c.perishable}},{"./core":2}],2:[function(a,b){"use strict";function c(a){return null===a?"null":typeof a}function d(a){return f(a,localStorage)}function e(a){return f(a,sessionStorage)}function f(a,b){var c=g(o+a,b);return p={},c}function g(a,b){if(p[a])return p[a]._rhaboo.refs++,p[a];var c=b[a];if(c){console.log("RAW SLOT:"+c);var d=JSON.parse(c);p[a]=d,d._rhaboo={storage:b,refs:1,slot:a};var e=JSON.parse(b["-"+a]);for(var f in e)d[f]=g(e[f],b);return d}var d={_rhaboo:{storage:b,refs:1,slot:a}};return m(d,b),p[a]=d,d}function h(a,b){if(void 0===a._rhaboo){a._rhaboo={storage:b,refs:1,slot:n(b)};for(var d in a)a.hasOwnProperty(d)&&"object"===c(a[d])&&"_rhaboo"!==d&&h(a[d],b);m(a,b)}else a._rhaboo.refs++}function i(a){if(a._rhaboo.refs--,0===a._rhaboo.refs){delete a._rhaboo.storage[a._rhaboo.slot],delete a._rhaboo.storage["-"+a._rhaboo.slot];for(var b in a)a.hasOwnProperty(b)&&"object"===c(a[b])&&"_rhaboo"!==b&&i(a[b])}}function j(a,b,d){return"object"===c(a[b])&&i(a[b]),"object"===c(d)&&h(d,a._rhaboo.storage),a[b]=d,m(a),a}function k(a,b){return"object"===c(a[b])&&i(a[b]),delete a[b],m(a),a}function l(a){return function(b,d){var e=c(d);return"number"===e||"string"===e||"boolean"===e?d:""==b?d:"_rhaboo"===b?void 0:"object"===e?void(a[b]=d._rhaboo.slot):d}}function m(a){var b={};return a._rhaboo.storage[a._rhaboo.slot]=JSON.stringify(a,l(b,a._rhaboo.storage)),a._rhaboo.storage["-"+a._rhaboo.slot]=JSON.stringify(b),a._rhaboo.slot}function n(a){var b=a===localStorage?0:1,c=r[b];return r[b]++,a.setItem(q,r[b]),o+c}var o="_rhaboo_",p={};Object.defineProperty(Object.prototype,"write",{value:function(a,b){return j(this,a,b)}}),Object.defineProperty(Object.prototype,"erase",{value:function(a){k(this,a)}});for(var q="_RHABOO_NEXT_SLOT",r=[0,0],s=0;2>s;s++)r[s]=localStorage.getItem(q)||0,r[s]=Number(r[s]);var t=Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty=function(a){return"_rhaboo"!=a&&t.call(this,a)},b.exports={persistent:d,perishable:e,addRef:h,release:i,save:m,typeOf:c}},{}],3:[function(a){(function(b){b.Rhaboo=a("./arr")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arr":1}]},{},[3]);