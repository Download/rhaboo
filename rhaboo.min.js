!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";function c(a,b){var c=a.split(b);return 1==c.length&&void 0==c[0]&&delete c[0],c}var d=function(a){return null===a?"null":typeof a},e=function(a){return a},f=function(a){return function(){return a}},g=function(a){return function(b){return a===b}},h=function(a){return function(b){return b.map(a)}},i=function(a){return function(b){return void 0!==a[1]?[a[0],a[1](b)]:[a[0]]}},j=function(a){return function(b){return function(c){for(var d=[],e=0;e<b.length&&e<c.length;e++)d[e]=b[e](a)(c[e]);return d}}},k=function(){return function(a){return a.toString()}},l=function(a){return function(b){return a?b.toString():Number(b)}},m=function(a){return function(b){return a?b?"t":"f":"t"===b}},n=function(a){return function(){return a?"":null}},o=function(a){return function(){return a?"":void 0}},p=function(a){return function(b){return function(c){return function(d){return c?b(c)(a(c)(d)):a(c)(b(c)(d))}}}},q=function(a){return function(b){for(var c=[],d=0,d=0;d<a.length&&b.length;b=b.substring(a[d++]))c.push(b.substring(0,a[d]));return c.push(b),c}},r=function(a){return function(b){return function(c){return function(d){return c?j(c)(b)(d).join(""):j(c)(b)(q(a)(d))}}}},s=function(a){return function(b){return function(d){return function(e){return d?j(d)(b)(e).join(a):j(d)(b)(c(e,a))}}}},t=function(a,b){return function(c){return function(d){return function(e){return d?c(d)(e).replace(RegExp(a,"g"),a+b):c(d)(e.replace(RegExp(a+b,"g"),a))}}}},u=function(a,b){return function(c){return function(d){return function(e){return s(d?a:RegExp(a+"(?!"+b+")","g"))(h(t(a,b))(c))(d)(e)}}}},v=u(";",":");b.exports={typeOf:d,id:e,konst:f,eq:g,map:h,runSnd:i,string_pp:k,number_pp:l,boolean_pp:m,null_pp:n,undefined_pp:o,thru:j,chop:q,fixedWidth:r,sepBy:s,escape:t,sepByEsc:u,tuple:v,pipe:p}},{}],2:[function(a,b){var c=a("./core"),d=d||{pop:Array.prototype.pop,push:Array.prototype.push,shift:Array.prototype.shift,unshift:Array.prototype.unshift,splice:Array.prototype.splice,reverse:Array.prototype.reverse,sort:Array.prototype.sort,fill:Array.prototype.fill},e=function(a){return function(){var b,e,f=void 0,g=[];this._rhaboo&&(e=this._rhaboo.storage,f=this._rhaboo.slotnum,b=this._rhaboo.refs,c.release(this,g,!0));var h=d[a].apply(this,arguments);return void 0!==f&&(c.addRef(this,g,e,f,b),c.execute(this._rhaboo.storage,g)),h}};Array.prototype.push=function(){var a=this.length,b=(d.push.apply(this,arguments),this.length);if(void 0!==this._rhaboo&&b>a){for(var e=[],f=a;b>f;f++)c.storeProp(this,e,f);c.updateSlot(this,e),c.execute(this._rhaboo.storage,e)}},Array.prototype.pop=function(){var a=[],b=this.length;void 0!==this._rhaboo&&b>0&&c.forgetProp(this,a,b-1);var e=d.pop.apply(this,arguments);return void 0!==this._rhaboo&&b>0&&(c.updateSlot(this,a),c.execute(this._rhaboo.storage,a)),e},Object.defineProperty(Array.prototype,"write",{value:function(a,b){Object.prototype.write.call(this,a,b);var d=[];c.updateSlot(this,d),c.execute(this._rhaboo.storage,d)}}),Array.prototype.shift=e("shift"),Array.prototype.unshift=e("unshift"),Array.prototype.splice=e("splice"),Array.prototype.reverse=e("reverse"),Array.prototype.sort=e("sort"),Array.prototype.fill=e("fill"),b.exports={persistent:c.persistent,perishable:c.perishable}},{"./core":3}],3:[function(a,b){(function(c){"use strict";function d(a){return f(localStorage,a)}function e(a){return f(sessionStorage,a)}function f(a,b){var c=a.getItem(s+b);if(c){var d=A(a)(!1)(c);return t={},d[0]}var e=[],f=m({_rhaboo:{storage:a}},e);return a.setItem(s+b,y(a)(!0)(f)),q(a,e),f}function g(a){return function(b){if(void 0!==t[b])return m(t[b]);var c=a.getItem(s+b),d=z(!1)(c);return d[0]._rhaboo={storage:a,slotnum:b,refs:1,kids:{}},t[b]=d[0],d.length>1?h(d[0],d[1][0],d[1][1]):d[0]}}function h(a,b,c){var d=a._rhaboo.storage.getItem(s+c),e=A(a._rhaboo.storage)(!1)(d);return a[b]=e[0],i(a,b,c),e.length>1?h(a,e[1][0],e[1][1]):a}function i(a,b,c){var d=void 0!==a._rhaboo.prev?a._rhaboo.kids[a._rhaboo.prev]:a._rhaboo;a._rhaboo.kids[b]={slotnum:c,prev:a._rhaboo.prev},d.next=a._rhaboo.prev=b}function j(a,b){var c=a._rhaboo.kids[b];(a._rhaboo.kids[c.prev]||a._rhaboo).next=c.next,(a._rhaboo.kids[c.next]||a._rhaboo).prev=c.prev,delete a._rhaboo.kids[b]}function k(a,b,c){var d=[];d.push(void 0!==c?a[c]:a);var e=void 0!==c?a._rhaboo.kids[c]:a._rhaboo;void 0!==e.next&&d.push([e.next,a._rhaboo.kids[e.next].slotnum]);var f=(void 0!==c?A(a._rhaboo.storage):z)(!0)(d);b.push(["setItem",[s+e.slotnum,f]])}function l(a,b,c){if(void 0===a._rhaboo.kids[c]){var d=r(a._rhaboo.storage);i(a,c,d),k(a,b,a._rhaboo.kids[c].prev)}}function m(a,b,c,d,e){if(void 0!==a._rhaboo&&void 0!==a._rhaboo.slotnum)a._rhaboo.refs++;else{void 0===a._rhaboo&&(a._rhaboo={}),void 0!==c&&(a._rhaboo.storage=c),a._rhaboo.slotnum=void 0!==d?d:r(a._rhaboo.storage),a._rhaboo.refs=void 0!==e?e:1,a._rhaboo.kids={},k(a,b);for(var f in a)a.hasOwnProperty(f)&&"_rhaboo"!==f&&n(a,b,f)}return a}function n(a,b,c){l(a,b,c),"object"===u.typeOf(a[c])&&(void 0===a[c]._rhaboo&&(a[c]._rhaboo={storage:a._rhaboo.storage}),m(a[c],b)),k(a,b,c)}function o(a,b,c){var d,e;if(a._rhaboo.refs--,c||0===a._rhaboo.refs){for(e=void 0,d=a._rhaboo;d;d=a._rhaboo.kids[e=d.next])b.push(["removeItem",[s+d.slotnum]]),void 0!==e&&"object"==u.typeOf(a[e])&&o(a[e],b);delete a._rhaboo}}function p(a,b,c){var d=a._rhaboo.kids[c];if(void 0!==d){var e=d.prev;b.push(["removeItem",[s+d.slotnum]]),"object"==u.typeOf(a[c])&&o(a[c],b),j(a,c),k(a,b,e)}}function q(a,b){var c=function(){for(var c=0;c<b.length;c++)a[b[c][0]].apply(a,b[c][1])};c()}function r(a){var b=a===localStorage?0:1,c=C[b];return C[b]++,a.setItem(B,C[b]),c}void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var a=/function\s([^(]{1,})\(/,b=a.exec(this.toString());return b&&b.length>1?b[1].trim():""},set:function(){}});var s="_rhaboo_",t={},u=a("parunpar"),v=u.sepByEsc("=",":"),w=v([u.string_pp,u.number_pp]),x=u.pipe(function(a){return function(b){return a?"Date"===b.constructor.name?[b.constructor.name,b.toString()]:void 0!==b.length?[b.constructor.name,b.length.toString()]:[b.constructor.name]:new c[b[0]]("Date"==b[0]?b[1]:b[1]?Number(b[1]):void 0)}})(v([u.string_pp,u.string_pp])),y=function(a){return u.pipe(function(b){return function(c){return b?u.runSnd({string:["$",u.id],number:["#",String],"boolean":["?",function(a){return a?"t":"f"}],"null":["~"],undefined:["_"],object:["&",function(a){return a._rhaboo.slotnum}]}[u.typeOf(c)])(c):{$:u.id,"#":Number,"?":u.eq("t"),"~":u.konst(null),_:u.konst(void 0),"&":g(a)}[c[0]](c[1])}})(u.fixedWidth([1])([u.string_pp,u.string_pp]))},z=u.tuple([x,w]),A=function(a){return u.tuple([y(a),w])};Object.defineProperty(Object.prototype,"write",{value:function(a,b){var c=[];return l(this,c,a),"object"===u.typeOf(this[a])&&o(this[a],c),this[a]=b,"object"===u.typeOf(b)&&(void 0===b._rhaboo&&(b._rhaboo={storage:this._rhaboo.storage}),m(b,c)),k(this,c,a),q(this._rhaboo.storage,c),this}}),Object.defineProperty(Object.prototype,"erase",{value:function(a){if(!this.hasOwnProperty(a))return this;var b=[];"object"===u.typeOf(this[a])&&o(this[a],b);var c=this._rhaboo.kids[a];b.push(["removeItem",[s+c.slotnum]]);var d=c.prev;return j(this,a),k(this,b,d),delete this[a],q(this._rhaboo.storage,b),this}});for(var B="_RHABOO_NEXT_SLOT",C=[0,0],D=0;2>D;D++)C[D]=localStorage.getItem(B)||0,C[D]=Number(C[D]);var E=Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty=function(a){return"_rhaboo"!=a&&E.call(this,a)},b.exports={persistent:d,perishable:e,addRef:m,release:o,storeProp:n,forgetProp:p,updateSlot:k,execute:q}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{parunpar:1}],4:[function(a){(function(b){b.Rhaboo=a("./arr")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./arr":2}]},{},[4]);