<script src = '../other-peoples/localforage.js'></script>
<script>

var whenStarted, whenStopped;

var i=-1;

function iter() {
  if (i==49) {
    whenStopped = performance.now();
    localforage.getItem("Foo" + i%10, function(e,v) {
      if (v==i)
        document.getElementById('result').innerHTML = whenStopped-whenStarted;
      else 
        document.getElementById('result').innerHTML = "Failed";
    })
  }
  else {
    i++;
    localforage.setItem("Foo" + i%10, i, function() { iter(); });
  }
}

function go() {
  whenStarted = performance.now();
  iter();
}
</script>
<body onLoad='go()'>
  <h3>Write one of 10 integers 50 times over with localForage</h3>
  <p>This is not using arrays (rhaboo's forte.) Each integer is a separate entry.
  <p>Test took <span id='result'>...</span> ms</p>
</body>

